// 采用的是类似JSON-RPC2.0的通讯方式
// web端主要传入method和uin，query和body直接将前端传的代入即可

syntax = "proto3";

// 包名称也是数据表前缀
package yidian_activitys;

// 定义服务接口
service Greeter {
	// 定义服务函数
	rpc yidian_activitys (JsonReq) returns (JsonRes) {}
}

// 请求参数格式
message JsonReq {
	// 请求消息ID，用于高并发时，可以不填，直接为0
	string id = 1;
	// 请求方法，add增、del删、改set、get查、update更新、save备份、load加载备份、upload上传、download下载
	string method = 2;
	// 查询、删除、修改附加参数，修改时如果带有query，则修改所有查询条件符合query的
	string query = 3;
	// 提交正文 可以是xml、json、form-data格式，建议json格式
	string body = 4;
	// 用户唯一标识，用于识别是哪个用户操作的
	string uin = 5;
}

// 错误模型
message Error {
	// 错误码，常见0无错误、500服务端业务错误
	int32 code = 1;
	// 错误提示
	string message = 2;
}

// 响应
message JsonRes {
	// 对应请求的消息ID，用于识别对那个请求做响应
	string id = 1;
	// 错误模型，如果存在错误，则返回错误模型
	Error error = 2;
	// 接口执行结果，通常返回json格式字符串，直接返回给前端即可
	string result = 3;
}